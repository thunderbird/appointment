<!DOCTYPE html>
<html lang="" data-tbpro-service="apmt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="icon" href="/favicon.ico" />
    <link rel="icon" href="/favicon-dark.ico" media="(prefers-color-scheme: dark)" />
    <link rel="manifest" href="/site.webmanifest" />

    <title>Thunderbird Appointment</title>
    <script>
      // Load initial theme color scheme from user settings
      const user = JSON.parse(localStorage?.getItem('tba/user') ?? '{}');
      const browserPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

      if (
        (user.settings?.colourScheme === 'dark'
        || (user.settings?.colourScheme === 'system' && browserPrefersDark)
        || (!user.settings?.colourScheme && browserPrefersDark))
      ) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    </script>
  </head>
  <body>
    <noscript>
      <strong>
        We're sorry but this application doesn't work properly without JavaScript enabled.
        Please enable it to continue.
      </strong>
    </noscript>
    <div id="app" class="flex flex-col flex-1 min-h-full"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>

</html>
